import sys

def xor_file(input_file_path, key):
    # Open the input file in binary read mode
    with open(input_file_path, 'rb') as input_file:
        # Read the file content
        file_data = input_file.read()

    # XOR the file content with the key
    xor_data = bytearray()
    key_length = len(key)
    for i in range(len(file_data)):
        xor_data.append(file_data[i] ^ key[i % key_length])

    # Convert XORed data to hex format with '0x' prefix
    hex_output = ''.join(f'0x{byte:02x} ' for byte in xor_data)
    return hex_output.strip()

if __name__ == "__main__":
    if len(sys.argv) != 3:
        print("Usage: python xor_file.py <input_file> <key>")
        sys.exit(1)

    input_file = sys.argv[1]
    xor_key = sys.argv[2].encode()  # Convert key to bytes

    hex_output = xor_file(input_file, xor_key)
    print(hex_output)
